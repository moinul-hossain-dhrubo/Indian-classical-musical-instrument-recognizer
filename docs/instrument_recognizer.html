---
title : Home
layout : page
---


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Classical Musical Instrument Recognizer</title>
    <!-- Include the Gradio client library as a script -->
    <!-- <script src="https://unpkg.com/@gradio/client"></script> -->
</head>
<body>

<input id="photo" type="file">
<div id="results"></div>

<script type="module">
    import { client } from "https://cdn.jsdelivr.net/npm/@gradio/client/+esm";
    // Directly importing the gradio client from server. Or else it shows error that I could not solve.

    document.addEventListener('DOMContentLoaded', function () {
        const photo = document.getElementById('photo');
        const results = document.getElementById('results');

        async function predictImage(imageData) {
            try {
                // Create a Gradio app client
                const app = await client("https://mhdhrubo-indian-classical-musical-instrument-recognizer.hf.space/--replicas/02b74dmkl/");

                console.log(app);
                // The client request goes to the server. Here you can see.

                // Make a prediction request to the /predict endpoint
                const result = await app.predict("/predict", [imageData]);

                // Log the result
                console.log(result);

                // Display the result in the HTML
                // results.innerHTML = `<br/> <img src="${imageData}" width="500"> <p>${result.data.label}</p>`;
            } catch (error) {
                console.error("An error occurred:", error);
                console.log("This is the error: "+error.response);
                results.innerHTML = "An error occurred while processing the request.";
            }
        }

        function read() {
            const reader = new FileReader();
            reader.addEventListener('load', () => predictImage(reader.result));
            reader.readAsDataURL(photo.files[0]);
        }

        photo.addEventListener('input', read);
    });
</script>

</body>
</html>



